<ng-container *appTemplateContent="'title'">Aggregate Leave</ng-container>
<ng-container *appToolbarContent>
  <a mat-button routerLink="/leave-request/list">
    <mat-icon mat-list-icon>supervisor_account</mat-icon>
    Show all Leave Requests</a>
</ng-container>
<mat-table [dataSource]="dataSource">
  <ng-container matColumnDef="staff">
    <mat-header-cell *matHeaderCellDef>Staff</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.person.preferredName}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="sick">
    <mat-header-cell *matHeaderCellDef>Sick</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.sick?.used}}/{{row.sick?.totalAllowed}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="vacation">
    <mat-header-cell *matHeaderCellDef>Vacation</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.vacation?.used || 0}}/{{row.vacation?.totalAllowed || 0}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="personal">
    <mat-header-cell *matHeaderCellDef>Personal</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.personal?.used}}/{{row.personal?.totalAllowed}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="parental">
    <mat-header-cell *matHeaderCellDef>Maternity/Paternity</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.parental?.used}}/{{row.parental?.totalAllowed}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="buisness">
    <mat-header-cell *matHeaderCellDef>Buisness</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.buisness?.used}}/{{row.buisness?.totalAllowed}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="other">
    <mat-header-cell *matHeaderCellDef>Other</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.other?.used || 0}}/{{row.other?.totalAllowed || 0}}</mat-cell>
  </ng-container>

  <!-- Header and Row Declarations -->
  <mat-header-row *matHeaderRowDef="['staff', 'sick', 'vacation', 'personal', 'parental', 'buisness', 'other']"></mat-header-row>
  <mat-row class="hover-overlay" [routerLink]="'/leave-request/list/' + row.person.id"
           *matRowDef="let row; columns: ['staff', 'sick', 'vacation', 'personal', 'parental', 'buisness', 'other']">
  </mat-row>
</mat-table>
